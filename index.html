<!doctype html>
<html lang="en">

<! OSH Registry main file for github pages implementation
    Copyright (C) 2024  Robert L. Read

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
    --@>
<head>
    <meta charset="utf-8">
    <title> OSH Registry </title>
    <meta name="description" content="OSH Registry">
    <meta name="author" content="Robert L. Read and Prajwal Shah">
    <link rel="stylesheet" href="./jquery-ui-1.13.2.custom/jquery-ui.min.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="icon" href="./images/favicon.ico">
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"></script>

</head>
<body>

<h1> OSH Registry </h1>

<p> A work-in-progress Registry and Search tool for Open Source Hardware projects.
</p>


    <p>
      <button type="button" onclick="runUnitTests()">
        Execute Tests!</button>
    </p>

<p>
  Search: <input type=text id="searchtext"></input>
      <button type="button" onclick="search()">
        Search</button>
    </p>

    <h2>Licensing</h2>

    <img src="https://www.gnu.org/graphics/agplv3-with-text-162x68.png"></img>

    <p>All of the code on this site is released under the <a href="https://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public License Version 2</a>, and I hope you will
      reuse it. The code, including technical documentation, can be found <a href="https://github.com/PubInv/segmented-helixes">in the repo</a>.</p>
    <p>To assist on this project, contact Robert L. Read &lt; read.robert@gmail.com &gt;</p>
</body>

<script>

  function search() {
    console.log($('#searchtext').val());

      var repoName = "PubInv/nano-cap-table";
      var fileName = "osh-registry.json";
  //    var baseURL = "https://github.com";
      var baseURL = "http://127.0.0.1:8080/";

        // This worked...
      //    var url = `${baseURL}/${repoName}/${fileName}`;
      var url = `${baseURL}/${fileName}`;
    fetch(url)
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.text();
  })
  .then(data => {
    console.log(data); // Do something with the content of the file
  })
  .catch(error => {
    console.error('There was a problem with the fetch operation:', error);
  });

  }

  function runUnitTests() {
      alert("No Unit Tests yet, so SUCCESS!");
  };

</script>
